<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="style.css" rel="stylesheet" type="text/css"/>
<title>Thrift module: tim</title></head><body>
<div class="container-fluid">
<h1>Thrift module: tim</h1>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Module</th><th>Services</th><th>Data types</th><th>Constants</th></tr></thead><tbody>
<tr>
<td>tim</td><td><a href="#Svc_ITim">ITim</a><br/>
<ul>
<li><a href="#Fn_ITim_timAck">timAck</a></li>
<li><a href="#Fn_ITim_timError">timError</a></li>
<li><a href="#Fn_ITim_timLogin">timLogin</a></li>
<li><a href="#Fn_ITim_timLogout">timLogout</a></li>
<li><a href="#Fn_ITim_timMessage">timMessage</a></li>
<li><a href="#Fn_ITim_timMessageIq">timMessageIq</a></li>
<li><a href="#Fn_ITim_timMessageList">timMessageList</a></li>
<li><a href="#Fn_ITim_timMessageResult">timMessageResult</a></li>
<li><a href="#Fn_ITim_timPing">timPing</a></li>
<li><a href="#Fn_ITim_timPresence">timPresence</a></li>
<li><a href="#Fn_ITim_timPresenceList">timPresenceList</a></li>
<li><a href="#Fn_ITim_timProperty">timProperty</a></li>
<li><a href="#Fn_ITim_timRegist">timRegist</a></li>
<li><a href="#Fn_ITim_timRemoteUserAuth">timRemoteUserAuth</a></li>
<li><a href="#Fn_ITim_timRemoteUserEdit">timRemoteUserEdit</a></li>
<li><a href="#Fn_ITim_timRemoteUserGet">timRemoteUserGet</a></li>
<li><a href="#Fn_ITim_timResponseMessage">timResponseMessage</a></li>
<li><a href="#Fn_ITim_timResponseMessageIq">timResponseMessageIq</a></li>
<li><a href="#Fn_ITim_timResponseMessageList">timResponseMessageList</a></li>
<li><a href="#Fn_ITim_timResponsePresence">timResponsePresence</a></li>
<li><a href="#Fn_ITim_timResponsePresenceList">timResponsePresenceList</a></li>
<li><a href="#Fn_ITim_timRoser">timRoser</a></li>
<li><a href="#Fn_ITim_timStarttls">timStarttls</a></li>
<li><a href="#Fn_ITim_timStream">timStream</a></li>
</ul>
</td>
<td><a href="#Struct_Tid">Tid</a><br/>
<a href="#Struct_TimAckBean">TimAckBean</a><br/>
<a href="#Struct_TimArea">TimArea</a><br/>
<a href="#Struct_TimAuth">TimAuth</a><br/>
<a href="#Struct_TimError">TimError</a><br/>
<a href="#Struct_TimHBean">TimHBean</a><br/>
<a href="#Struct_TimIqBean">TimIqBean</a><br/>
<a href="#Struct_TimMBean">TimMBean</a><br/>
<a href="#Struct_TimMBeanList">TimMBeanList</a><br/>
<a href="#Struct_TimMessageIq">TimMessageIq</a><br/>
<a href="#Struct_TimNode">TimNode</a><br/>
<a href="#Struct_TimPBean">TimPBean</a><br/>
<a href="#Struct_TimPBeanList">TimPBeanList</a><br/>
<a href="#Struct_TimPage">TimPage</a><br/>
<a href="#Struct_TimParam">TimParam</a><br/>
<a href="#Struct_TimPropertyBean">TimPropertyBean</a><br/>
<a href="#Struct_TimRemoteRoom">TimRemoteRoom</a><br/>
<a href="#Struct_TimRemoteUserBean">TimRemoteUserBean</a><br/>
<a href="#Struct_TimResponseBean">TimResponseBean</a><br/>
<a href="#Struct_TimRoom">TimRoom</a><br/>
<a href="#Struct_TimRoster">TimRoster</a><br/>
<a href="#Struct_TimSock5Bean">TimSock5Bean</a><br/>
<a href="#Struct_TimSock5Bytes">TimSock5Bytes</a><br/>
<a href="#Struct_TimTime">TimTime</a><br/>
<a href="#Struct_TimUserBean">TimUserBean</a><br/>
</td>
<td><code><a href="#Const_TIM_SC_FAILED">TIM_SC_FAILED</a></code><br/>
<code><a href="#Const_TIM_SC_SUCCESS">TIM_SC_SUCCESS</a></code><br/>
<code><a href="#Const_protocolversion">protocolversion</a></code><br/>
<code><a href="#Const_protocolversionName">protocolversionName</a></code><br/>
</td>
</tr></tbody></table>
<hr/><h2 id="Constants">Constants</h2>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Constant</th><th>Type</th><th>Value</th></tr></thead><tbody>
<tr id="Const_protocolversion"><td><code>protocolversion</code></td><td><code>i32</code></td><td><code>4</code></td></tr><tr><td colspan="3"><blockquote><pre>内部版本号
</pre><br/></blockquote></td></tr><tr id="Const_protocolversionName"><td><code>protocolversionName</code></td><td><code>string</code></td><td><code>"1.1.0"</code></td></tr><tr><td colspan="3"><blockquote><pre>外部版本号
</pre><br/></blockquote></td></tr><tr id="Const_TIM_SC_SUCCESS"><td><code>TIM_SC_SUCCESS</code></td><td><code>string</code></td><td><code>"200"</code></td></tr><tr><td colspan="3"><blockquote><pre>状态码：成功
</pre><br/></blockquote></td></tr><tr id="Const_TIM_SC_FAILED"><td><code>TIM_SC_FAILED</code></td><td><code>string</code></td><td><code>"400"</code></td></tr><tr><td colspan="3"><blockquote><pre>状态码：失败
</pre><br/></blockquote></td></tr></tbody></table><hr/><h2 id="Structs">Data structures</h2>
<div class="definition"><h3 id="Struct_TimError">Struct: TimError</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>errCode</td><td><code>i32</code></td><td>错误码
</td><td>optional</td><td></td></tr>
<tr><td>2</td><td>errMsg</td><td><code>string</code></td><td>错误内容
</td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimNode">Struct: TimNode</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>key</td><td><code>string</code></td><td>键
</td><td>optional</td><td></td></tr>
<tr><td>2</td><td>value</td><td><code>string</code></td><td>值
</td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimAckBean">Struct: TimAckBean</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>id</td><td><code>string</code></td><td>id，返回所要回执协议的线程id
</td><td>optional</td><td></td></tr>
<tr><td>2</td><td>ackType</td><td><code>string</code></td><td>类型，自定义 如：ping，message等
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>ackStatus</td><td><code>string</code></td><td>状态，如成功，失败等
</td><td>optional</td><td></td></tr>
<tr><td>4</td><td>extraList</td><td><code>list&lt;<code><a href="#Struct_TimNode">TimNode</a></code>&gt;</code></td><td>附加信息
</td><td>optional</td><td></td></tr>
<tr><td>5</td><td>err</td><td><code><a href="#Struct_TimError">TimError</a></code></td><td>错误信息
</td><td>optional</td><td></td></tr>
<tr><td>6</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimHBean">Struct: TimHBean</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>chl</td><td><code>i32</code></td><td>渠道
</td><td>required</td><td></td></tr>
<tr><td>2</td><td>platform</td><td><code>i32</code></td><td>平台
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>version</td><td><code>i16</code></td><td>version 客户端协议版本
</td><td>required</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimParam">Struct: TimParam</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>timestamp</td><td><code>string</code></td><td>服务器时间
</td><td>optional</td><td></td></tr>
<tr><td>2</td><td>version</td><td><code>i16</code></td><td>版本
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>lang</td><td><code>string</code></td><td>语言
</td><td>optional</td><td></td></tr>
<tr><td>4</td><td>extraList</td><td><code>list&lt;<code><a href="#Struct_TimNode">TimNode</a></code>&gt;</code></td><td>附加信息
</td><td>optional</td><td></td></tr>
<tr><td>5</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>6</td><td>interflow</td><td><code>string</code></td><td>消息合流
</td><td>optional</td><td></td></tr>
<tr><td>7</td><td>tls</td><td><code>string</code></td><td>tls
</td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimTime">Struct: TimTime</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>timestamp</td><td><code>string</code></td><td>时间戳    (毫秒)
</td><td>optional</td><td></td></tr>
<tr><td>2</td><td>formattime</td><td><code>string</code></td><td>格式化时间
</td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimArea">Struct: TimArea</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>country</td><td><code>string</code></td><td>国家
</td><td>optional</td><td></td></tr>
<tr><td>2</td><td>province</td><td><code>string</code></td><td>省
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>city</td><td><code>string</code></td><td>市
</td><td>optional</td><td></td></tr>
<tr><td>4</td><td>extraList</td><td><code>list&lt;<code><a href="#Struct_TimNode">TimNode</a></code>&gt;</code></td><td>附加信息：如区，镇，乡等
</td><td>optional</td><td></td></tr>
<tr><td>5</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_Tid">Struct: Tid</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>name</td><td><code>string</code></td><td>登陆名   用户登录号，房间号等
</td><td>required</td><td></td></tr>
<tr><td>2</td><td>domain</td><td><code>string</code></td><td>域名 用于区分渠道等 appid，appsecret
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>resource</td><td><code>string</code></td><td>系统 自行约定 如 ： 1IOS，2android，3H5，4WEB 等
</td><td>optional</td><td></td></tr>
<tr><td>4</td><td>type</td><td><code>string</code></td><td>normal，group
</td><td>optional</td><td></td></tr>
<tr><td>5</td><td>extraList</td><td><code>list&lt;<code><a href="#Struct_TimNode">TimNode</a></code>&gt;</code></td><td>附加信息：如传递客户端信息 iphone6，xiaomi，huawei等
</td><td>optional</td><td></td></tr>
<tr><td>6</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimUserBean">Struct: TimUserBean</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>tid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td>用户bean
</td><td>optional</td><td></td></tr>
<tr><td>2</td><td>nickname</td><td><code>string</code></td><td>昵称
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>remarkname</td><td><code>string</code></td><td>备注名称
</td><td>optional</td><td></td></tr>
<tr><td>4</td><td>brithday</td><td><code>string</code></td><td>生日     2000-01-01
</td><td>optional</td><td></td></tr>
<tr><td>5</td><td>gender</td><td><code>i16</code></td><td>性别  自行约定 如 ：  0不知，1男，2女
</td><td>optional</td><td></td></tr>
<tr><td>6</td><td>headurl</td><td><code>string</code></td><td>头像地址 http://xxx.jpg
</td><td>optional</td><td></td></tr>
<tr><td>7</td><td>area</td><td><code><a href="#Struct_TimArea">TimArea</a></code></td><td>地区
</td><td>optional</td><td></td></tr>
<tr><td>8</td><td>headbyte</td><td><code>binary</code></td><td>头像
</td><td>optional</td><td></td></tr>
<tr><td>9</td><td>photoBytes</td><td><code>list&lt;<code>binary</code>&gt;</code></td><td>其他图片
</td><td>optional</td><td></td></tr>
<tr><td>10</td><td>extraList</td><td><code>list&lt;<code><a href="#Struct_TimNode">TimNode</a></code>&gt;</code></td><td>扩展字段
</td><td>optional</td><td></td></tr>
<tr><td>11</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimRoom">Struct: TimRoom</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>tid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td>房间Tid
</td><td>optional</td><td></td></tr>
<tr><td>2</td><td>founderTid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td>创建人Tid
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>HostsTid</td><td><code>list&lt;<code><a href="#Struct_Tid">Tid</a></code>&gt;</code></td><td>主持人Tid
</td><td>optional</td><td></td></tr>
<tr><td>4</td><td>membersTid</td><td><code>list&lt;<code><a href="#Struct_Tid">Tid</a></code>&gt;</code></td><td>memberTid
</td><td>optional</td><td></td></tr>
<tr><td>5</td><td>headurl</td><td><code>string</code></td><td>头像地址 http://xxx.jpg
</td><td>optional</td><td></td></tr>
<tr><td>6</td><td>roomName</td><td><code>string</code></td><td>房间名称
</td><td>optional</td><td></td></tr>
<tr><td>7</td><td>desc</td><td><code>string</code></td><td>房间说明
</td><td>optional</td><td></td></tr>
<tr><td>8</td><td>createTime</td><td><code><a href="#Struct_TimTime">TimTime</a></code></td><td>房间创建时间
</td><td>optional</td><td></td></tr>
<tr><td>9</td><td>extraList</td><td><code>list&lt;<code><a href="#Struct_TimNode">TimNode</a></code>&gt;</code></td><td>扩展字段
</td><td>optional</td><td></td></tr>
<tr><td>10</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimPBean">Struct: TimPBean</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>threadId</td><td><code>string</code></td><td>标识
</td><td>required</td><td></td></tr>
<tr><td>2</td><td>fromTid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td></td><td>optional</td><td></td></tr>
<tr><td>3</td><td>toTid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td></td><td>optional</td><td></td></tr>
<tr><td>4</td><td>status</td><td><code>string</code></td><td>subscribe：订阅其他用户的状态  probe：请求获取其他用户的状态  unavailable：不可用，离线（offline）状态
</td><td>optional</td><td></td></tr>
<tr><td>5</td><td>type</td><td><code>string</code></td><td>normal：类似于email，主要特点是不要求响应；
chat：类似于qq里的好友即时聊天，主要特点是实时通讯；
groupchat：类似于聊天室里的群聊；
headline：用于发送alert和notification；
error：如果发送message出错，发现错误的实体会用这个类别来通知发送者出错了；
</td><td>optional</td><td></td></tr>
<tr><td>6</td><td>priority</td><td><code>i32</code></td><td>优先权 0 。高优先级的resource能接受发送到bare JID的消息，低优先级的resource不能
</td><td>optional</td><td></td></tr>
<tr><td>7</td><td>show</td><td><code>string</code></td><td>chat：聊天中  away：暂时离开   xa：eXtend Away，长时间离开   dnd：勿打扰   online:在线   offline:离线
</td><td>optional</td><td></td></tr>
<tr><td>8</td><td>leaguerTid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td>成员Tid   群聊时信息发送者Tid
</td><td>optional</td><td></td></tr>
<tr><td>9</td><td>extraList</td><td><code>list&lt;<code><a href="#Struct_TimNode">TimNode</a></code>&gt;</code></td><td>扩展字段
</td><td>optional</td><td></td></tr>
<tr><td>10</td><td>error</td><td><code><a href="#Struct_TimError">TimError</a></code></td><td>错误码
</td><td>optional</td><td></td></tr>
<tr><td>11</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimMBean">Struct: TimMBean</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>threadId</td><td><code>string</code></td><td>线程id
</td><td>required</td><td></td></tr>
<tr><td>2</td><td>mid</td><td><code>string</code></td><td>消息id号
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>fromTid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td>来源Tid
</td><td>optional</td><td></td></tr>
<tr><td>4</td><td>toTid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td>目标Tid
</td><td>optional</td><td></td></tr>
<tr><td>5</td><td>body</td><td><code>string</code></td><td>信息内容
</td><td>optional</td><td></td></tr>
<tr><td>6</td><td>type</td><td><code>string</code></td><td>normal：类似于email，主要特点是不要求响应；
chat：类似于qq里的好友即时聊天，主要特点是实时通讯；
groupchat：类似于聊天室里的群聊；
headline：用于发送alert和notification；
error：如果发送message出错，发现错误的实体会用这个类别来通知发送者出错了；
</td><td>optional</td><td></td></tr>
<tr><td>7</td><td>msgType</td><td><code>i16</code></td><td>消息类型  1 文字 2 图片 3 语音 4视频 5混合
</td><td>optional</td><td></td></tr>
<tr><td>8</td><td>offline</td><td><code><a href="#Struct_TimTime">TimTime</a></code></td><td>是否离线信息
</td><td>optional</td><td></td></tr>
<tr><td>9</td><td>leaguerTid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td>成员Tid   群聊时信息发送者Tid
</td><td>optional</td><td></td></tr>
<tr><td>10</td><td>extraList</td><td><code>list&lt;<code><a href="#Struct_TimNode">TimNode</a></code>&gt;</code></td><td>扩展字段
</td><td>optional</td><td></td></tr>
<tr><td>11</td><td>timestamp</td><td><code>string</code></td><td>服务器发送信息时间戳(毫秒)
</td><td>optional</td><td></td></tr>
<tr><td>12</td><td>error</td><td><code><a href="#Struct_TimError">TimError</a></code></td><td>错误码
</td><td>optional</td><td></td></tr>
<tr><td>13</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>14</td><td>readstatus</td><td><code>i16</code></td><td>0未读  1已读
</td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimIqBean">Struct: TimIqBean</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>threadId</td><td><code>string</code></td><td>线程id
</td><td>required</td><td></td></tr>
<tr><td>2</td><td>fromTid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td></td><td>optional</td><td></td></tr>
<tr><td>3</td><td>toTid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td></td><td>optional</td><td></td></tr>
<tr><td>4</td><td>type</td><td><code>string</code></td><td>Get :获取当前域值。类似于http get方法
Set :设置或替换get查询的值。类似于http put方法。
Result :说明成功的响应了先前的查询。类似于http状态码200。
Error: 查询和响应中出现的错误。
</td><td>optional</td><td></td></tr>
<tr><td>5</td><td>extraList</td><td><code>list&lt;<code><a href="#Struct_TimNode">TimNode</a></code>&gt;</code></td><td>扩展字段
</td><td>optional</td><td></td></tr>
<tr><td>6</td><td>error</td><td><code><a href="#Struct_TimError">TimError</a></code></td><td>错误码
</td><td>optional</td><td></td></tr>
<tr><td>7</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimRoster">Struct: TimRoster</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>subscription</td><td><code>string</code></td><td>none表示用户和contact之前没有任何的关系（虽然在server的buddy list中存在）
to表示用户能看到contact的presence，但是contact看不到用户的Presence
from和to的含义相反，指用户看不到contact的presence，但是contact可以看到
both表示相关之间都能看到对方的presence
</td><td>required</td><td></td></tr>
<tr><td>2</td><td>tid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td></td><td>required</td><td></td></tr>
<tr><td>3</td><td>name</td><td><code>string</code></td><td>用户名
</td><td>optional</td><td></td></tr>
<tr><td>4</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimRemoteUserBean">Struct: TimRemoteUserBean</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>error</td><td><code><a href="#Struct_TimError">TimError</a></code></td><td>错误码
</td><td>optional</td><td></td></tr>
<tr><td>2</td><td>ub</td><td><code><a href="#Struct_TimUserBean">TimUserBean</a></code></td><td>远程用户信息
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimRemoteRoom">Struct: TimRemoteRoom</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>error</td><td><code><a href="#Struct_TimError">TimError</a></code></td><td>错误码
</td><td>optional</td><td></td></tr>
<tr><td>2</td><td>room</td><td><code><a href="#Struct_TimRoom">TimRoom</a></code></td><td>远程房间信息
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimResponseBean">Struct: TimResponseBean</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>threadId</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>2</td><td>error</td><td><code><a href="#Struct_TimError">TimError</a></code></td><td>错误码
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>extraList</td><td><code>list&lt;<code><a href="#Struct_TimNode">TimNode</a></code>&gt;</code></td><td>附加信息
</td><td>optional</td><td></td></tr>
<tr><td>4</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimSock5Bean">Struct: TimSock5Bean</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>fromTid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td></td><td>required</td><td></td></tr>
<tr><td>2</td><td>toTid</td><td><code><a href="#Struct_Tid">Tid</a></code></td><td></td><td>required</td><td></td></tr>
<tr><td>3</td><td>addr</td><td><code>string</code></td><td>ip地址
</td><td>required</td><td></td></tr>
<tr><td>4</td><td>port</td><td><code>i32</code></td><td>端口
</td><td>required</td><td></td></tr>
<tr><td>5</td><td>transport</td><td><code>i16</code></td><td>传输类型  1:tcp 2:udp
</td><td>required</td><td></td></tr>
<tr><td>6</td><td>pubId</td><td><code>string</code></td><td>发布id 通过发布id 可以连接两个发布id相同的用户
</td><td>required</td><td></td></tr>
<tr><td>7</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimSock5Bytes">Struct: TimSock5Bytes</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>pubId</td><td><code>string</code></td><td>发布id
</td><td>required</td><td></td></tr>
<tr><td>2</td><td>index</td><td><code>i32</code></td><td>序号数据块
</td><td>required</td><td></td></tr>
<tr><td>3</td><td>bytes</td><td><code>list&lt;<code>binary</code>&gt;</code></td><td>数据块
</td><td>required</td><td></td></tr>
<tr><td>4</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimPage">Struct: TimPage</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>fromTimeStamp</td><td><code>string</code></td><td>时间上
</td><td>optional</td><td></td></tr>
<tr><td>2</td><td>toTimeStamp</td><td><code>string</code></td><td>时间下
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>limitCount</td><td><code>i32</code></td><td>条数
</td><td>optional</td><td></td></tr>
<tr><td>4</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimMessageIq">Struct: TimMessageIq</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>tidlist</td><td><code>list&lt;<code>string</code>&gt;</code></td><td>tid集合
</td><td>optional</td><td></td></tr>
<tr><td>2</td><td>timPage</td><td><code><a href="#Struct_TimPage">TimPage</a></code></td><td>分页
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>midlist</td><td><code>list&lt;<code>string</code>&gt;</code></td><td>mid集合
</td><td>optional</td><td></td></tr>
<tr><td>4</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimAuth">Struct: TimAuth</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>domain</td><td><code>string</code></td><td>域名
</td><td>optional</td><td></td></tr>
<tr><td>2</td><td>username</td><td><code>string</code></td><td>用户名
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>pwd</td><td><code>string</code></td><td>密码
</td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimMBeanList">Struct: TimMBeanList</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>threadId</td><td><code>string</code></td><td></td><td>required</td><td></td></tr>
<tr><td>2</td><td>timMBeanList</td><td><code>list&lt;<code><a href="#Struct_TimMBean">TimMBean</a></code>&gt;</code></td><td>信息列表
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>reqType</td><td><code>string</code></td><td>类型
</td><td>optional</td><td></td></tr>
<tr><td>4</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimPBeanList">Struct: TimPBeanList</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>threadId</td><td><code>string</code></td><td></td><td>required</td><td></td></tr>
<tr><td>2</td><td>timPBeanList</td><td><code>list&lt;<code><a href="#Struct_TimPBean">TimPBean</a></code>&gt;</code></td><td>状态信息列表
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>reqType</td><td><code>string</code></td><td>类型
</td><td>optional</td><td></td></tr>
<tr><td>4</td><td>extraMap</td><td><code>map&lt;<code>string</code>, <code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</tbody></table><br/></div><div class="definition"><h3 id="Struct_TimPropertyBean">Struct: TimPropertyBean</h3>
<table class="table-bordered table-striped table-condensed"><thead><tr><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></tr></thead><tbody>
<tr><td>1</td><td>threadId</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>2</td><td>interflow</td><td><code>string</code></td><td>消息合流
</td><td>optional</td><td></td></tr>
<tr><td>3</td><td>tls</td><td><code>string</code></td><td>tls
</td><td>optional</td><td></td></tr>
</tbody></table><br/></div><hr/><h2 id="Services">Services</h2>
<h3 id="Svc_ITim">Service: ITim</h3>
<div class="definition"><h4 id="Fn_ITim_timStream">Function: ITim.timStream</h4>
<pre><code>void</code> timStream(<code><a href="#Struct_TimParam">TimParam</a></code> param)
</pre><pre>流程开始
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timStarttls">Function: ITim.timStarttls</h4>
<pre><code>void</code> timStarttls()
</pre><pre>tls协议
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timLogin">Function: ITim.timLogin</h4>
<pre><code>void</code> timLogin(<code><a href="#Struct_Tid">Tid</a></code> tid,
              <code>string</code> pwd)
</pre><pre>登陆协议
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timAck">Function: ITim.timAck</h4>
<pre><code>void</code> timAck(<code><a href="#Struct_TimAckBean">TimAckBean</a></code> ab)
</pre><pre>回执信息
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timPresence">Function: ITim.timPresence</h4>
<pre><code>void</code> timPresence(<code><a href="#Struct_TimPBean">TimPBean</a></code> pbean)
</pre><pre>广播出席协议或接收广播协议
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timMessage">Function: ITim.timMessage</h4>
<pre><code>void</code> timMessage(<code><a href="#Struct_TimMBean">TimMBean</a></code> mbean)
</pre><pre>发送信息或接收信息
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timPing">Function: ITim.timPing</h4>
<pre><code>void</code> timPing(<code>string</code> threadId)
</pre><pre>ping 心跳协议
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timError">Function: ITim.timError</h4>
<pre><code>void</code> timError(<code><a href="#Struct_TimError">TimError</a></code> e)
</pre><pre>错误通知
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timLogout">Function: ITim.timLogout</h4>
<pre><code>void</code> timLogout()
</pre><pre>登出协议
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timRegist">Function: ITim.timRegist</h4>
<pre><code>void</code> timRegist(<code><a href="#Struct_Tid">Tid</a></code> tid,
               <code>string</code> auth)
</pre><pre>注册协议
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timRoser">Function: ITim.timRoser</h4>
<pre><code>void</code> timRoser(<code><a href="#Struct_TimRoster">TimRoster</a></code> roster)
</pre><pre>花名册
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timMessageList">Function: ITim.timMessageList</h4>
<pre><code>void</code> timMessageList(<code><a href="#Struct_TimMBeanList">TimMBeanList</a></code> mbeanList)
</pre><pre>发送信息或接收信息列表（合流）
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timPresenceList">Function: ITim.timPresenceList</h4>
<pre><code>void</code> timPresenceList(<code><a href="#Struct_TimPBeanList">TimPBeanList</a></code> pbeanList)
</pre><pre>发送状态信息列表（合流）
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timMessageIq">Function: ITim.timMessageIq</h4>
<pre><code>void</code> timMessageIq(<code><a href="#Struct_TimMessageIq">TimMessageIq</a></code> timMsgIq,
                  <code>string</code> iqType)
</pre><pre>信息请求 get请求数据 del删除
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timMessageResult">Function: ITim.timMessageResult</h4>
<pre><code>void</code> timMessageResult(<code><a href="#Struct_TimMBean">TimMBean</a></code> mbean)
</pre><pre>信息请求
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timProperty">Function: ITim.timProperty</h4>
<pre><code>void</code> timProperty(<code><a href="#Struct_TimPropertyBean">TimPropertyBean</a></code> tpb)
</pre><pre>用户协议属性请求
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timRemoteUserAuth">Function: ITim.timRemoteUserAuth</h4>
<pre><code><a href="#Struct_TimRemoteUserBean">TimRemoteUserBean</a></code> timRemoteUserAuth(<code><a href="#Struct_Tid">Tid</a></code> tid,
                                    <code>string</code> pwd,
                                    <code><a href="#Struct_TimAuth">TimAuth</a></code> auth)
</pre><pre>请求远程验证信息
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timRemoteUserGet">Function: ITim.timRemoteUserGet</h4>
<pre><code><a href="#Struct_TimRemoteUserBean">TimRemoteUserBean</a></code> timRemoteUserGet(<code><a href="#Struct_Tid">Tid</a></code> tid,
                                   <code><a href="#Struct_TimAuth">TimAuth</a></code> auth)
</pre><pre>请求远程用户信息
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timRemoteUserEdit">Function: ITim.timRemoteUserEdit</h4>
<pre><code><a href="#Struct_TimRemoteUserBean">TimRemoteUserBean</a></code> timRemoteUserEdit(<code><a href="#Struct_Tid">Tid</a></code> tid,
                                    <code><a href="#Struct_TimUserBean">TimUserBean</a></code> ub,
                                    <code><a href="#Struct_TimAuth">TimAuth</a></code> auth)
</pre><pre>编辑远程用户信息
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timResponsePresence">Function: ITim.timResponsePresence</h4>
<pre><code><a href="#Struct_TimResponseBean">TimResponseBean</a></code> timResponsePresence(<code><a href="#Struct_TimPBean">TimPBean</a></code> pbean,
                                    <code><a href="#Struct_TimAuth">TimAuth</a></code> auth)
</pre><pre>广播出席协议或接收广播协议
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timResponseMessage">Function: ITim.timResponseMessage</h4>
<pre><code><a href="#Struct_TimResponseBean">TimResponseBean</a></code> timResponseMessage(<code><a href="#Struct_TimMBean">TimMBean</a></code> mbean,
                                   <code><a href="#Struct_TimAuth">TimAuth</a></code> auth)
</pre><pre>发送信息或接收信息
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timResponseMessageIq">Function: ITim.timResponseMessageIq</h4>
<pre><code><a href="#Struct_TimMBeanList">TimMBeanList</a></code> timResponseMessageIq(<code><a href="#Struct_TimMessageIq">TimMessageIq</a></code> timMsgIq,
                                  <code>string</code> iqType,
                                  <code><a href="#Struct_TimAuth">TimAuth</a></code> auth)
</pre><pre>信息请求 get请求数据 del删除（辅助接口）
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timResponsePresenceList">Function: ITim.timResponsePresenceList</h4>
<pre><code><a href="#Struct_TimResponseBean">TimResponseBean</a></code> timResponsePresenceList(<code><a href="#Struct_TimPBeanList">TimPBeanList</a></code> pbeanList,
                                        <code><a href="#Struct_TimAuth">TimAuth</a></code> auth)
</pre><pre>广播出席协议或接收广播协议
</pre><br/></div><div class="definition"><h4 id="Fn_ITim_timResponseMessageList">Function: ITim.timResponseMessageList</h4>
<pre><code><a href="#Struct_TimResponseBean">TimResponseBean</a></code> timResponseMessageList(<code><a href="#Struct_TimMBeanList">TimMBeanList</a></code> mbeanList,
                                       <code><a href="#Struct_TimAuth">TimAuth</a></code> auth)
</pre><pre>发送信息或接收信息
</pre><br/></div></div></body></html>
